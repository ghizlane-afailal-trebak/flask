{% extends 'app.html' %}

{% block content %}
<div class="container">
    <h2 class="mt-4">Page d'Accueil</h2>

    <!-- Affichage des messages flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}">{{ message }}</div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <!-- Formulaire pour ajouter des donnÃ©es -->
    <form method="POST" class="mt-4">
        {{ form.hidden_tag() }}
        
        <div class="form-group">
            {{ form.name.label(class="form-label") }}
            {{ form.name(class="form-control", placeholder="Entrez votre nom") }}
        </div>
        
        <div class="form-group">
            {{ form.email.label(class="form-label") }}
            {{ form.email(class="form-control", placeholder="Entrez votre email") }}
        </div>
        
        {{ form.submit(class="btn btn-primary mt-3") }}
    </form>

    <!-- Liste des utilisateurs -->
    <h3 class="mt-5">Liste des utilisateurs</h3>
    <ul class="list-group">
        {% for info in infos %}
            <li class="list-group-item">
                <strong>{{ info[0] }}</strong> - {{ info[1] }}
            </li>
        {% endfor %}
    </ul>
</div>
{% endblock %}
